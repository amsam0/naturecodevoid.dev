import{O as he,P as ve,S as Ee,i as we,s as ke,k as p,q as w,a as I,Q as be,l as h,m as k,r as S,h as m,c as O,R as _e,n as a,b as oe,E as t,T as R,J as N,u as re,B as ge,U as Se,o as Te,M as Ue,V as ae,W as Ae}from"../../../../chunks/index-527cab09.js";import{w as Be}from"../../../../chunks/index-a85b85b2.js";function ye(e){return Object.prototype.toString.call(e)==="[object Date]"}function ce(e,i,n,l){if(typeof n=="number"||ye(n)){const d=l-n,s=(n-i)/(e.dt||1/60),b=e.opts.stiffness*d,_=e.opts.damping*s,B=(b-_)*e.inv_mass,r=(s+B)*e.dt;return Math.abs(r)<e.opts.precision&&Math.abs(d)<e.opts.precision?l:(e.settled=!1,ye(n)?new Date(n.getTime()+r):n+r)}else{if(Array.isArray(n))return n.map((d,s)=>ce(e,i[s],n[s],l[s]));if(typeof n=="object"){const d={};for(const s in n)d[s]=ce(e,i[s],n[s],l[s]);return d}else throw new Error(`Cannot spring ${typeof n} values`)}}function Me(e,i={}){const n=Be(e),{stiffness:l=.15,damping:d=.8,precision:s=.01}=i;let b,_,B,r=e,M=e,u=1,g=0,P=!1;function c(y,v={}){M=y;const E=B={};return e==null||v.hard||T.stiffness>=1&&T.damping>=1?(P=!0,b=he(),r=y,n.set(e=M),Promise.resolve()):(v.soft&&(g=1/((v.soft===!0?.5:+v.soft)*60),u=0),_||(b=he(),P=!1,_=ve(C=>{if(P)return P=!1,_=null,!1;u=Math.min(u+g,1);const U={inv_mass:u,opts:T,settled:!0,dt:(C-b)*60/1e3},L=ce(U,r,e,M);return b=C,r=e,n.set(e=L),U.settled&&(_=null),!U.settled})),new Promise(C=>{_.promise.then(()=>{E===B&&C()})}))}const T={set:c,update:(y,v)=>c(y(M,e),v),subscribe:n.subscribe,stiffness:l,damping:d,precision:s};return T}function Pe(e){let i,n,l,d,s=e[0].stiffness+"",b,_,B,r,M,u,g,P,c=e[0].damping+"",T,y,v,E,C,U,L,K,X,Z,$,A,x,ee,te,H,se,ne,V,ie,Y,j,q,D,le,fe;return{c(){i=p("div"),n=p("label"),l=p("h3"),d=w("stiffness ("),b=w(s),_=w(")"),B=I(),r=p("input"),M=I(),u=p("label"),g=p("h3"),P=w("damping ("),T=w(c),y=w(")"),v=I(),E=p("input"),C=I(),U=p("label"),L=p("h3"),K=w("circle delay in MS ("),X=w(e[1]),Z=w(")"),$=I(),A=p("input"),x=I(),ee=p("br"),te=I(),H=p("button"),se=w("add circle"),ne=w(`
     
    `),V=p("button"),ie=w("remove circle"),Y=I(),j=p("div"),q=be("svg"),D=be("circle"),this.h()},l(f){i=h(f,"DIV",{});var o=k(i);n=h(o,"LABEL",{});var J=k(n);l=h(J,"H3",{class:!0});var Q=k(l);d=S(Q,"stiffness ("),b=S(Q,s),_=S(Q,")"),Q.forEach(m),B=O(J),r=h(J,"INPUT",{type:!0,min:!0,max:!0,step:!0}),J.forEach(m),M=O(o),u=h(o,"LABEL",{});var W=k(u);g=h(W,"H3",{class:!0});var z=k(g);P=S(z,"damping ("),T=S(z,c),y=S(z,")"),z.forEach(m),v=O(W),E=h(W,"INPUT",{type:!0,min:!0,max:!0,step:!0}),W.forEach(m),C=O(o),U=h(o,"LABEL",{});var F=k(U);L=h(F,"H3",{class:!0});var G=k(L);K=S(G,"circle delay in MS ("),X=S(G,e[1]),Z=S(G,")"),G.forEach(m),$=O(F),A=h(F,"INPUT",{type:!0,min:!0,max:!0,step:!0}),F.forEach(m),x=O(o),ee=h(o,"BR",{}),te=O(o),H=h(o,"BUTTON",{});var de=k(H);se=S(de,"add circle"),de.forEach(m),ne=S(o,`
     
    `),V=h(o,"BUTTON",{});var me=k(V);ie=S(me,"remove circle"),me.forEach(m),o.forEach(m),Y=O(f),j=h(f,"DIV",{});var ue=k(j);q=_e(ue,"svg",{class:!0});var pe=k(q);D=_e(pe,"circle",{cx:!0,cy:!0,r:!0,class:!0}),k(D).forEach(m),pe.forEach(m),ue.forEach(m),this.h()},h(){a(l,"class","svelte-1tbmct3"),a(r,"type","range"),a(r,"min","0.01"),a(r,"max","0.5"),a(r,"step","0.01"),a(g,"class","svelte-1tbmct3"),a(E,"type","range"),a(E,"min","0.01"),a(E,"max","0.5"),a(E,"step","0.01"),a(L,"class","svelte-1tbmct3"),a(A,"type","range"),a(A,"min","0"),a(A,"max","2000"),a(A,"step","10"),a(D,"cx",0),a(D,"cy",0),a(D,"r",10),a(D,"class","svelte-1tbmct3"),a(q,"class","svelte-1tbmct3")},m(f,o){oe(f,i,o),t(i,n),t(n,l),t(l,d),t(l,b),t(l,_),t(n,B),t(n,r),R(r,e[0].stiffness),t(i,M),t(i,u),t(u,g),t(g,P),t(g,T),t(g,y),t(u,v),t(u,E),R(E,e[0].damping),t(i,C),t(i,U),t(U,L),t(L,K),t(L,X),t(L,Z),t(U,$),t(U,A),R(A,e[1]),t(i,x),t(i,ee),t(i,te),t(i,H),t(H,se),t(i,ne),t(i,V),t(V,ie),oe(f,Y,o),oe(f,j,o),t(j,q),t(q,D),e[10](j),le||(fe=[N(window,"mousemove",e[5]),N(window,"touchmove",e[6]),N(r,"change",e[7]),N(r,"input",e[7]),N(E,"change",e[8]),N(E,"input",e[8]),N(A,"change",e[9]),N(A,"input",e[9]),N(H,"click",e[3]),N(V,"click",e[4])],le=!0)},p(f,[o]){o&1&&s!==(s=f[0].stiffness+"")&&re(b,s),o&1&&R(r,f[0].stiffness),o&1&&c!==(c=f[0].damping+"")&&re(T,c),o&1&&R(E,f[0].damping),o&2&&re(X,f[1]),o&2&&R(A,f[1])},i:ge,o:ge,d(f){f&&m(i),f&&m(Y),f&&m(j),e[10](null),le=!1,Se(fe)}}}function Le(e,i,n){const l=Me({x:0,y:0},{stiffness:.1,damping:.25});let d=0,s;Te(()=>{document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.overflow="hidden",l.subscribe(({x:c,y:T})=>{if(!(!s||!("children"in s)))for(let y=0;y<s.children.length;y++){const v=s.children.item(y);setTimeout(()=>{v.children.item(0).setAttribute("cx",c.toString()),v.children.item(0).setAttribute("cy",T.toString())},d*y)}})}),Ue(()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.overflow=""});function b(){s.appendChild(s.children.item(0).cloneNode(!0))}function _(){s.children.length<=1||s.children.item(s.children.length-1).remove()}const B=c=>l.set({x:c.clientX,y:c.clientY}),r=c=>l.set({x:c.touches[0].clientX,y:c.touches[0].clientY});function M(){l.stiffness=ae(this.value),n(0,l)}function u(){l.damping=ae(this.value),n(0,l)}function g(){d=ae(this.value),n(1,d)}function P(c){Ae[c?"unshift":"push"](()=>{s=c,n(2,s)})}return[l,d,s,b,_,B,r,M,u,g,P]}class De extends Ee{constructor(i){super(),we(this,i,Le,Pe,ke,{})}}export{De as default};

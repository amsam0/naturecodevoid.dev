<script type="text/javascript">
    window.addEventListener("scroll", function() {
        const navbar = document.getElementsByClassName("nav")[0];
        const add = " w3-white";
        if (document.body.scrollTop > 30 || document.documentElement.scrollTop > 30) {
            if (!navbar.className.includes(add)) navbar.className += add;
        } else navbar.className = navbar.className.replace(add, "");
    });

    let canChange = true;
    const run = () =>
        setTimeout(() => {
            canChange = true;
        }, 75);
    function toggleNav() {
        if (canChange) {
            var element = document.getElementsByClassName("nav-mobile")[0];
            if (!element.className.includes("w3-show")) {
                element.className += " w3-show";
            } else {
                element.className = element.className.replace(" w3-show", "");
            }
            console.debug("Toggled nav");
            canChange = false;
            run();
        } else console.debug("Cant toggle nav");
    }
</script>

<div class="nav-div w3-top w3-left w3-card">
    <div class="nav w3-bar">
        <a href="{% link index.md %}" class="w3-bar-item w3-button w3-left" id="icon-button">
            <i class="fas fa-tree"></i> NATURECODEVOID.DEV</a
        >

        <script type="text/javascript">
            // Script to randomize naturecodevoid.dev icon

            const tryChange = () => {
                const e = document.getElementById("icon-button");

                if (typeof e === "undefined") return setTimeout(() => tryChange(), 1);
                if (e === null) return setTimeout(() => tryChange(), 1);

                // https://stackoverflow.com/a/4960020
                //const randomValue = Math.floor(Math.random() * 100) + 1;
                const choices = [
                    `<i class="fas fa-tree"></i>`,
                    `<i class="fas fa-leaf"></i>`,
                    `<i class="fas fa-code"></i>`,
                    `<i class="fas fa-terminal"></i>`,
                    `<i class="fas fa-mountain"></i>`,
                    `<i class="fas fa-heart"></i>`,
                    `<i class="fas fa-gamepad"></i>`,
                    `<i class="fas fa-bug"></i>`,
                    `<i class="fas fa-coffee"></i>`,
                    `<i class="fas fa-microchip"></i>`,
                    `<i class="fas fa-archive"></i>`,
                    `<i class="fas fa-file"></i>`,
                    `<i class="fas fa-file"></i>`,
                    `<i class="fas fa-cat"></i>`,
                    `<i class="fas fa-dog"></i>`,
                    `<i class="fas fa-paw"></i>`,
                    `<i class="fas fa-folder"></i>`,
                    `<i class="fas fa-laptop-code"></i>`,
                    `<i class="fas fa-code-branch"></i>`,
                    `<i class="fas fa-desktop"></i>`,
                    `<i class="fas fa-server"></i>`,
                    `<i class="fas fa-save"></i>`,
                    `<i class="fas fa-mobile"></i>`,
                    `<i class="fas fa-power-off"></i>`,
                    `<i class="fas fa-hard-hat"></i>`,
                    `<i class="fas fa-tools"></i>`,
                    `<i class="fas fa-pencil-alt"></i>`,
                    `<i class="fas fa-truck-pickup"></i>`,
                    `<i class="fas fa-biking"></i>`,
                    `<i class="fas fa-battery-half"></i>`,
                    `<i class="fas fa-battery-full"></i>`,
                    `<i class="fas fa-headset"></i>`,
                    `<i class="fas fa-skiing"></i>`,
                    `<i class="fas fa-snowflake"></i>`,
                    `<i class="fas fa-snowboarding"></i>`,
                    `<i class="fas fa-cloud"></i>`,
                    `<i class="fab fa-js-square"></i>`,
                    `<i class="fas fa-infinity"></i>`,
                    `<i class="fas fa-calculator"></i>`,
                    `<i class="fas fa-wifi"></i>`,
                    `<i class="fas fa-rocket"></i>`,
                    `<i class="fab fa-python"></i>`,
                    `<i class="fab fa-html5"></i>`,
                    `<i class="fab fa-css3-alt"></i>`,
                    `<i class="fab fa-java"></i>`,
                    `<i class="fas fa-file-code"></i>`,
                    `<i class="fab fa-pagelines"></i>`,
                    `<i class="fas fa-seedling"></i>`,
                ];
                // https://stackoverflow.com/a/5915122
                const choice = choices[Math.floor(Math.random() * choices.length)];
                //console.debug(randomValue);
                console.debug(choice, choices.length);
                e.innerHTML = e.innerHTML.replace(`<i class="fas fa-tree"></i>`, choice);
                // if (randomValue === 1) {
                //     e.innerHTML = e.innerHTML.replace(`<i class="fas fa-tree"></i>`, choice);
                // }
            };
            tryChange();
        </script>

        <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" onclick="toggleNav();">
            <i class="fas fa-bars"></i>
        </a>

        <a href="{% link index.md %}" class="w3-bar-item w3-button w3-hide-small w3-right"
            ><i class="fas fa-home"></i> HOME</a
        >
        <div class="w3-dropdown-hover w3-hide-small w3-right">
            <a href='{{ "/projects/" | relative_url }}' class="w3-bar-item w3-button w3-hide-small w3-right">
                <i class="fas fa-clipboard-list"></i> PROJECTS <i class="fas fa-angle-down"></i>
            </a>
            <div class="w3-dropdown-content w3-bar-block w3-card-4">
                <!-- Start projects -->

                <a href='{{ "/projects/randomtextgenerator/" | relative_url }}' class="w3-bar-item w3-button"
                    >RANDOMTEXTGENERATOR</a
                >

                <!-- End projects -->

                <a href='{{ "/projects/#other-projects" | relative_url }}' class="w3-bar-item w3-button"
                    >OTHER PROJECTS</a
                >
            </div>
        </div>
        <a href='{{ "/downloads/" | relative_url }}' class="w3-bar-item w3-button w3-hide-small w3-right"
            ><i class="fas fa-download"></i> DOWNLOADS</a
        >
    </div>

    <!-- Mobile -->
    <div class="nav-mobile w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium">
        <a
            href='{{ "/downloads/" | relative_url }}'
            class="w3-bar-item w3-button w3-hover-black w3-left"
            onclick="toggleNav();"
            ><i class="fas fa-download"></i> DOWNLOADS</a
        >
        <a
            href='{{ "/projects/" | relative_url }}'
            class="w3-bar-item w3-button w3-hover-black w3-left"
            onclick="toggleNav();"
            ><i class="fas fa-clipboard-list"></i> PROJECTS</a
        >

        <!-- Start projects -->

        <a
            href='{{ "/projects/randomtextgenerator/" | relative_url }}'
            class="w3-bar-item w3-button w3-hover-black w3-left"
        >
            <span class="mobile-project"><i class="fas fa-angle-right"></i> RANDOMTEXTGENERATOR</span>
        </a>

        <!-- End projects -->

        <a href="{% link index.md %}" class="w3-bar-item w3-button w3-hover-black w3-left" onclick="toggleNav()"
            ><i class="fas fa-home"></i> HOME</a
        >
    </div>
</div>
